import axios, { AxiosRequestConfig } from "axios";
import { Config } from "../Config";

const authInterceptor = (config: AxiosRequestConfig) => {
// const token = localStorage.getItem("authToken");
 const token='eyJhbGciOiJSUzI1NiIsImtpZCI6InByaXZhdGUtc2lnbmluZy1rZXkifQ.eyJzdWIiOiIyMWNkMmQ4Mi0xYmJjLTQzZTktODk4YS1kNWE0NWFiZGVjZWQiLCJuYW1lIjoiQW5kcmVzIiwidXNlck5hbWUiOiJBbmRyZXMiLCJlbWFpbCI6ImFuZHJlc29ybGFuZG9sb3BlekBnbWFpbC5jb20iLCJyb2xlcyI6WyJBZG1pbmlzdHJhdG9yIiwiTGFuZ3VhZ2UgZGV2ZWxvcGVyIiwiTGFuZ3VhZ2UgZGlyZWN0b3IiXSwicGVybWlzc2lvbnMiOlsiYWRtaW46Omxhbmd1YWdlczo6dXBkYXRlIiwiYWRtaW46Omxhbmd1YWdlczo6cXVlcnkiLCJhZG1pbjo6bGFuZ3VhZ2VzOjpkZWxldGUiLCJhZG1pbjo6bW9kZWxzOjp1cGRhdGUiLCJhZG1pbjo6bW9kZWxzOjpkZWxldGUiLCJhZG1pbjo6bW9kZWxzOjpxdWVyeSIsImFkbWluOjpwcm9qZWN0czo6dXBkYXRlIiwiYWRtaW46OnByb2plY3RzOjpxdWVyeSIsImFkbWluOjpwcm9qZWN0czo6ZGVsZXRlIiwidXNlcnM6OmRlbGV0ZSIsIm1pY3JvLXNlcnZpY2VzOjp1cGRhdGUiLCJtaWNyby1zZXJ2aWNlczo6cXVlcnkiLCJtZXRyaWNzOjpxdWVyeSIsInVzZXJzOjp1cGRhdGUiLCJ1c2Vyczo6cXVlcnkiLCJwZXJtaXNzaW9uczo6dXBkYXRlIiwicGVybWlzc2lvbnM6OnF1ZXJ5IiwicGVybWlzc2lvbnM6OmRlbGV0ZSIsInBlcm1pc3Npb25zOjpjcmVhdGUiLCJyb2xlczo6dXBkYXRlIiwicm9sZXM6OnF1ZXJ5Iiwicm9sZXM6OmRlbGV0ZSIsInJvbGVzOjpjcmVhdGUiLCJsYW5ndWFnZXM6OmRlbGV0ZSIsImxhbmd1YWdlczo6dXBkYXRlIiwibGFuZ3VhZ2VzOjpxdWVyeSIsImxhbmd1YWdlczo6Y3JlYXRlIiwibXktYWNjb3VudDo6dXBkYXRlIiwibXktYWNjb3VudDo6cXVlcnkiLCJDcmVhdGUgcHJvZHVjdCBsaW5lcyIsIkNyZWF0ZSBsYW5ndWFnZXMiLCJDcmVhdGUgbGFuZ3VhZ2VzIiwiQ3JlYXRlIHByb2R1Y3QgbGluZXMiLCJBcHByb3ZlIGxhbmd1YWdlcyJdLCJpYXQiOjE3NTY5MTcwMTAsImV4cCI6MTc1NzM0OTAxMCwiYXVkIjoiYXBwLnZhcmlhbW9zLmNvbSJ9.tlT30i-RcyDKZ3B8312O7gPm0DNUI5U4WBUeyOly-UZTE6Vt63dBOmEyIn3rwWneqx2UcH-zyuqibgxVmV8jcX-8FNL132N0hkC6PLFKWAxxjvvRWBwsKp0ldQkvJQuMZSYBd3eZTc3HK4JE49ur_HXU3vQNp4W-JRW57KFEKe3jDlRxo4nhFhhvqOulhSBmeh4dOYj_nUuh8ddCZ3PZmTox8PiIhweKTKsT8NdLVkQstbOp428PXFMtXU29Vk0rh5L5TELoNI8v2UwFjsYhzusuNtj1Eeivnqun82m5CdzdDHIXmQkIQzqHwnOA6C6NbnDAnep4AxcpWnkBD9piuQWR64CUXxMWcEwak4nF-keQqBXdDi2G7DM77JwaMsLgxBigghGS3V7FfdLL1vWf0peRBXAtIe_dzkbFV0jGPiq2VmZB8Qcy6AvN2Ylmhwwozm7EYY8J7GA8Dx7FRLyL87tR1AeD27VIepDO5osHACZuIsa-YOOKh9twke0M-VRTFgZVgBJDkQMI0GxjwNlP9fg3IOAso-X5jI468K1AAohHnCw-gZsOkC3E_kNajfPwSQTDMSLy-4stUpRtaG7ns3thxsZDrKK1wozap6_GzSQPpqXWDlk9qGkOgf8d9vaHFZVWy4p66gCSrtvB352cq5z39y2GzEAoHXnTI4byGtM';  //todo: comentariar al publicar
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
};

export const ADMIN_CLIENT = axios.create({
  baseURL: Config.SERVICES.urlBackEndAdmin,
  timeout: 30000,
  withCredentials: true,
});

ADMIN_CLIENT.interceptors.request.use(authInterceptor);

export const LANGUAGES_CLIENT = axios.create({
  baseURL: Config.SERVICES.urlBackEndLanguage,
  timeout: 30000,
  withCredentials: true,
});

LANGUAGES_CLIENT.interceptors.request.use(authInterceptor);

export const PROJECTS_CLIENT = axios.create({
  baseURL: Config.SERVICES.urlBackEndProjectPersistence,
  timeout: 30000,
  withCredentials: true,
});

PROJECTS_CLIENT.interceptors.request.use(authInterceptor);
